{"version":3,"sources":["../src/mathjax-electron.js"],"names":["path","require","loadMathJax","document","callback","noop","MathJax","script","createElement","addEventListener","configureMathJax","type","src","join","__dirname","getElementsByTagName","appendChild","error","Error","message","typesetMath","container","Hub","Queue","loadAndTypeset","Config","jax","extensions","messageStyle","showMathMenu","tex2jax","inlineMath","displayMath","processEscapes","processEnvironments","preview","TeX","SVG","font","Configured","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,OAAOC,QAAQ,MAAR,CAAX;;AAEA;;;;;;AAMA,SAASC,WAAT,CAAqBC,QAArB,EAAgD;AAAA,MAAjBC,QAAiB,yDAANC,IAAM;;AAC9C,MAAI,OAAOC,OAAP,KAAmB,WAAnB,IAAkCA,YAAY,IAAlD,EAAwD;AACtD,QAAIC,SAASJ,SAASK,aAAT,CAAuB,QAAvB,CAAb;;AAEAD,WAAOE,gBAAP,CAAwB,MAAxB,EAAgC,YAAW;AACzCC;AACAN;AACD,KAHD;AAIAG,WAAOI,IAAP,GAAc,iBAAd;;AAEA,QAAI;AACFJ,aAAOK,GAAP,GAAaZ,KAAKa,IAAL,CAAUC,SAAV,EAAqB,IAArB,EAA2B,WAA3B,EAAwC,SAAxC,EACb,yCADa,CAAb;;AAGAX,eAASY,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCC,WAAzC,CAAqDT,MAArD;AACD,KALD,CAKE,OAAOU,KAAP,EAAc;AACd,YAAM,IAAIC,KAAJ,CAAUD,MAAME,OAAhB,EAAyB,aAAzB,CAAN;AACD;AACF,GAjBD,MAiBO;AACLf;AACD;AACF;;AAED;;;;;;AAMA,SAASgB,WAAT,CAAqBC,SAArB,EAAiD;AAAA,MAAjBjB,QAAiB,yDAANC,IAAM;;AAC/C,MAAI;AACFC,YAAQgB,GAAR,CAAYC,KAAZ,CAAkB,CAAC,SAAD,EAAYjB,QAAQgB,GAApB,EAAyBD,SAAzB,CAAlB,EAAuDjB,QAAvD;AACD,GAFD,CAEE,OAAOa,KAAP,EAAc;AACd,UAAM,IAAIC,KAAJ,CAAUD,MAAME,OAAhB,EAAyB,aAAzB,CAAN;AACD;AACF;;AAED;;;;;;;;;AASA,SAASK,cAAT,CAAwBrB,QAAxB,EAAkCkB,SAAlC,EAA8D;AAAA,MAAjBjB,QAAiB,yDAANC,IAAM;;AAC5DH,cAAYC,QAAZ,EAAsB,YAAW;AAC/BiB,gBAAYC,SAAZ,EAAuBjB,QAAvB;AACD,GAFD;AAGD;;AAED,SAASM,gBAAT,GAA4B;AAC1BJ,UAAQgB,GAAR,CAAYG,MAAZ,CAAmB;AACjBC,SAAK,CAAC,WAAD,EAAc,YAAd,CADY;AAEjBC,gBAAY,CAAC,YAAD,CAFK;AAGjBC,kBAAc,MAHG;AAIjBC,kBAAc,KAJG;AAKjBC,aAAS;AACPC,kBAAY,CACV,CAAC,GAAD,EAAM,GAAN,CADU,EAEV,CAAC,KAAD,EAAQ,KAAR,CAFU,CADL;AAKPC,mBAAa,CACX,CAAC,IAAD,EAAO,IAAP,CADW,EAEX,CAAC,KAAD,EAAQ,KAAR,CAFW,CALN;AASPC,sBAAgB,IATT;AAUPC,2BAAqB,IAVd;AAWPC,eAAS;AAXF,KALQ;AAkBjBC,SAAK;AACHT,kBAAY,CAAC,YAAD,EAAe,eAAf,EAAgC,aAAhC,EAA+C,gBAA/C;AADT,KAlBY;AAqBjBU,SAAK;AACHC,YAAM;AADH;AArBY,GAAnB;AAyBAhC,UAAQgB,GAAR,CAAYiB,UAAZ;AACD;;AAED,SAASlC,IAAT,GAAgB,CAAE;;AAElBmC,OAAOC,OAAP,GAAiB;AACfvC,0BADe;AAEfkB,0BAFe;AAGfI;AAHe,CAAjB","file":"mathjax-electron.js","sourcesContent":["\"use strict\";\n\nvar path = require('path');\n\n/**\n * Loads and configures MathJax if necessary.\n * @param  {Document} document - A Document Object Model.\n * The MathJax Script is included in the <head> section of the HTML document.\n * @param  {Callback} callback - A callback to run when MathJax is loaded.\n */\nfunction loadMathJax(document, callback = noop) {\n  if (typeof MathJax === \"undefined\" || MathJax === null) {\n    var script = document.createElement(\"script\");\n\n    script.addEventListener(\"load\", function() {\n      configureMathJax();\n      callback();\n    });\n    script.type = \"text/javascript\";\n\n    try {\n      script.src = path.join(__dirname, \"..\", \"resources\", \"MathJax\",\n      \"MathJax.js?delayStartupUntil=configured\");\n\n      document.getElementsByTagName(\"head\")[0].appendChild(script);\n    } catch (error) {\n      throw new Error(error.message, \"loadMathJax\");\n    }\n  } else {\n    callback();\n  }\n};\n\n/**\n * Typesets any math elements within the element.\n * @param  {HTMLElement}  container - The element whose math is to be typeset.\n * @param  {Callback}     callback  - A callback to run when the typeset\n * is complete.\n */\nfunction typesetMath(container, callback = noop) {\n  try {\n    MathJax.Hub.Queue([\"Typeset\", MathJax.Hub, container], callback);\n  } catch (error) {\n    throw new Error(error.message, \"typesetMath\");\n  }\n};\n\n/**\n * A helper function which loads MathJax if necessary and typesets any math\n * elements within the container.\n * @param  {Document}     document  - A Document Object Model.\n * The MathJax Script is included in the <head> section of the HTML document.\n * @param  {HTMLElement}  container - The element whose math is to be typeset.\n * @param  {Callback}     callback  - A callback to run when the typeset\n * is complete.\n */\nfunction loadAndTypeset(document, container, callback = noop) {\n  loadMathJax(document, function() {\n    typesetMath(container, callback);\n  });\n};\n\nfunction configureMathJax() {\n  MathJax.Hub.Config({\n    jax: [\"input/TeX\", \"output/SVG\"],\n    extensions: [\"tex2jax.js\"],\n    messageStyle: \"none\",\n    showMathMenu: false,\n    tex2jax: {\n      inlineMath: [\n        ['$', '$'],\n        [\"\\\\(\", \"\\\\)\"]\n      ],\n      displayMath: [\n        ['$$', '$$'],\n        [\"\\\\[\", \"\\\\]\"]\n      ],\n      processEscapes: true,\n      processEnvironments: true,\n      preview: \"none\"\n    },\n    TeX: {\n      extensions: [\"AMSmath.js\", \"AMSsymbols.js\", \"noErrors.js\", \"noUndefined.js\"]\n    },\n    SVG: {\n      font: \"STIX-Web\"\n    }\n  });\n  MathJax.Hub.Configured();\n};\n\nfunction noop() {};\n\nmodule.exports = {\n  loadMathJax,\n  typesetMath,\n  loadAndTypeset\n}\n"]}